var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var d=0;return function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var d="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return d?d.call(b):$jscomp.arrayIterator(b)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(b){var d=function(){};d.prototype=b;return new d};$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0},d={};try{return d.__proto__=b,d.a}catch(a){}return!1};$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(b,d){b.__proto__=d;if(b.__proto__!==d)throw new TypeError(b+" is not extensible");return b}:null;
$jscomp.inherits=function(b,d){b.prototype=$jscomp.objectCreate(d.prototype);b.prototype.constructor=b;if($jscomp.setPrototypeOf){var a=$jscomp.setPrototypeOf;a(b,d)}else for(a in d)if("prototype"!=a)if(Object.defineProperties){var c=Object.getOwnPropertyDescriptor(d,a);c&&Object.defineProperty(b,a,c)}else b[a]=d[a];b.superClass_=d.prototype};var GSExtractor=function(b,d,a){return Extractor.call(this,b,d,void 0===a?!1:a)||this};$jscomp.inherits(GSExtractor,Extractor);
GSExtractor.prototype.extract=function(b){b=[];for(var d=$jscomp.makeIterator(this.blocks),a=d.next();!a.done;a=d.next()){var c=a.value;a={ids:[]};var f=void 0,e=c.querySelector("h3[class='gs_rt'] > a");e&&(e=e.getAttribute("data-clk"))&&(e=e.match(/&d=(\d+)&/))&&(f=e[1]);a.title=this.getTitle(c,"h3[class='gs_rt']");a.abstractText=this.getAbstract(c,"div[class='gs_rs']");a.authors=this.getAuthors(c,"div[class='gs_a']");a.year=this.getYear(c,"div[class='gs_a']");e=this.getCitesQuery(c,"div[class='gs_fl'] > a:nth-child(3)");
a.textUrl=this.getTextLink(c,"div.gs_ggs.gs_fl > div > div > a");a.textType=this.getTextType(c,"div.gs_ggs.gs_fl > div > div > a > span.gs_ctg2");a.incomingRefs=this.getIncomingRefs(c,"div[class='gs_fl'] > a:nth-child(3)");e&&!f&&(c=/cites=(\d*)/.exec(e),null!==c&&1<c.length&&(f=c[1]));f&&(a.ids.push({id:f,src:"google-scholar"}),b.push(a))}return b};GSExtractor.prototype.getAbstract=function(b,d){return Extractor.prototype.getAbstract.call(this,b,d).replace("\u2026","").trim()};
GSExtractor.prototype.getTitle=function(b,d){var a=Extractor.prototype.getTitle.call(this,b,d),c=b.querySelector("h3[class='gs_rt'] > span");c&&(c=c.innerText,a=a.replace(c,"").trim());return a};GSExtractor.prototype.getTextType=function(b,d){var a=Extractor.prototype.getTextType.call(this,b,d),c="";a&&(c=a.innerText.slice(1,-1));return c};
GSExtractor.prototype.getAuthors=function(b,d){var a=Extractor.prototype.getAuthors.call(this,b,d),c=[];if(a.length){a=a[0].innerHTML.split("&nbsp")[0].replace("\u2026","").trim().split(", ");a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next()){var e=f.value.match(/(<a href="(.*?)">)?([A-Za-z ]+)(<\/a>)?/);if(e){f={fullName:"",ids:[]};e[3]&&(f.fullName=e[3]);if(e[2]){e=e[2];var g="",h=e.match(/user=(\w+)&/);h&&(g=h[1]);f.ids.push({id:g,src:window.location.hostname+e})}""!==f.fullName&&
c.push(f)}}}this.verbose&&console.log(c);return c};GSExtractor.prototype.getYear=function(b,d){var a=Extractor.prototype.getAuthors.call(this,b,d),c=2E3;a.length&&(a=a[0].innerText.split("- ")[1].match(/\d{4}/g))&&(c=parseInt(a[0]));this.verbose&&console.log(c);return c};GSExtractor.prototype.getCitesCount=function(b,d){var a=b.querySelector(d),c=0;a&&a.innerText&&(a=a.innerText.match(/\d+/g))&&(c=parseInt(a[0]));return c};
GSExtractor.prototype.getCitesQuery=function(b,d){var a=b.querySelector(d),c="";a&&(c=a.getAttribute("href"));return c};GSExtractor.prototype.getIncomingRefs=function(b,d){var a={};!b.querySelector(d)&&this.verbose?console.log("EXTRACTOR ("+this.name+"): incoming references aren't extracted"):this.verbose&&(console.log("EXTRACTOR ("+this.name+"): extracted incoming references"),a.link=window.location.hostname+this.getCitesQuery(b,d),a.amout=this.getCitesCount(b,d),a.ids=[]);return a};
GSExtractor.prototype.extractArticlesFromAuthorPage=function(){var b=document.querySelectorAll(".gsc_a_tr"),d=[];this.blocks=[];if(b.length){b=$jscomp.makeIterator(b);for(var a=b.next();!a.done;a=b.next()){a=a.value;var c={ids:[]},f=void 0;c.year=Extractor.prototype.getYear.call(this,a,".gsc_a_y");c.title=Extractor.prototype.getTitle.call(this,a,".gsc_a_t > a");c.authors=this.getAuthors(a,".gsc_a_t > div.gs_gray");c.incomingRefs=this.getIncomingRefs(a,".gsc_a_c > a");if(c.incomingRefs.link){c.incomingRefs.link=
c.incomingRefs.link.slice(17);var e=c.incomingRefs.link.match(/\d+/g);e&&(f=e[0])}f&&(c.ids.push({id:f,src:"google-scholar"}),this.blocks.push(a),d.push(c))}}return d};
