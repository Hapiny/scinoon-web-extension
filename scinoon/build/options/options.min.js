var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var c="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return c?c.call(b):$jscomp.arrayIterator(b)};
document.addEventListener("DOMContentLoaded",function(){function b(a){console.log("Error: "+a)}function c(){browser.tabs.query(e).then(function(a){browser.storage.local.get().then(function(b){for(var c=$jscomp.makeIterator(a),d=c.next();!d.done;d=c.next())browser.tabs.sendMessage(d.value.id,{name:messages.DEFAULT_MAP_CHANGED,data:b})})},b)}var e={url:["http://*/research/*","https://scigraph.at.ispras.ru/research/*"]};(function(){var a=document.getElementById("mapInput");browser.storage.local.get("map").then(function(b){a.value=
b.map},b);a.addEventListener("change",function(){console.log("changed to "+a.value);browser.storage.local.set({map:a.value});c()})})();(function(){var a=document.getElementById("serverInput");browser.storage.local.get("origin").then(function(b){a.value=b.origin},b);a.addEventListener("change",function(){console.log("changed to "+a.value);browser.storage.local.set({origin:a.value});c()})})();(function(){var a=document.getElementById("topCountInput");browser.storage.local.get("topCount").then(function(b){a.value=
b.topCount},b);a.addEventListener("change",function(){console.log("changed to "+a.value);browser.storage.local.set({topCount:a.value})})})();browser.runtime.onMessage.addListener(function(a){a.name==a.SET_DEFAULT_MAP&&(console.log(a),console.log("SET_DEFAULT_MAP catched by options"),document.getElementById("mapInput").value=a.data.map,document.getElementById("serverInput").value=a.data.origin)})});
